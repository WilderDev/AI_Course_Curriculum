# Lesson 5: Prompt Engineering - Techniques and Approaches

## PREVIEW

### Content

- [Video: Text-to-Text Prompt Techniques](https://d3c33hcgiwev3.cloudfront.net/S318rFnqRzeB35lSfKuE0w.processed/full/720p/index.mp4?Expires=1718409600&Signature=FG3ew2oOM4gZaEeACwXib7~UZaWBZHMPSRyl5IRx7baZxE1YwRnzde6DKA-wBZw5ObkFXHS21RRvRoHTStX6WLzGlteqO2pFxeB~uW7PI89EsRnRV-FcdpAfpqlJnzcA754QLw-v4TfNNVA9hx3EtYcdRkMWR7qCwTvSxjzTlcU_&Key-Pair-Id=APKAJLTNE6QMUY6HBC5A)
- [Video: Interview Pattern Approach](https://d3c33hcgiwev3.cloudfront.net/30h2u30zR4SiKGyrsK5Vdw.processed/full/720p/index.mp4?Expires=1718409600&Signature=aekvndfwsN~75A7N9zFEQUkY-4asqhG2etzF3aXhnI2MsB4BoyvM-197gk0wZHPyp2m89F7QKtIj7NtUJrti2FOQ1MgJLayvep6122~2v858AxmPg8RRnE9D8pIeEgx2TvkvJSmiuU8CPn3Y1rTM5xXPoof~xB17VexGotHAD3A_&Key-Pair-Id=APKAJLTNE6QMUY6HBC5A)
- [Video: Chain-of-Thought Approach](https://d3c33hcgiwev3.cloudfront.net/XYCJYQHgS-yfy8jxisnVzw.processed/full/720p/index.mp4?Expires=1718409600&Signature=Be4mnbte4gyY6oYERgZzfM2LUV9SI6JFz9ZgX7LT7eZCgnPucQYnmtGgf5vmENTGopsS8Y4q7SDiNbpLbWV95Z~30U314ocZcpI1~XZMVe3ts95Nec0ZA5CY0Y0BlcxhGQz83rga2DdpKjoGdgn8QFMm5p-rO4Ut-RmbqLqQ1qc_&Key-Pair-Id=APKAJLTNE6QMUY6HBC5A)
- [Video: Tree-of-Thought Approach](https://d3c33hcgiwev3.cloudfront.net/ZFWPadTsQOiQDVz6TH0wyQ.processed/full/720p/index.mp4?Expires=1718409600&Signature=D16Yn1YRJYNGmCV4C0PWca1hy9N756AWOEBmCMnjlIjavEgEAtrxIDij9AoEM7XrhQn~yVbDJpIz80r8FZLxZeOpG5vS7JMJX00CbKiW~R1tI2iMrbMB3Ct7jBkv-WR3dZ-Db4L7ftb6-BprJV3feSn1tImKaLbiqjixzYuAXVk_&Key-Pair-Id=APKAJLTNE6QMUY6HBC5A)

### What you'll learn

In this module, you will discover techniques for skillfully crafting prompts that effectively steer generative AI models. You will also learn about various prompt engineering approaches that can enhance the capabilities of generative AI models to produce precise and relevant responses.

### Terminology & Concepts

- **Zero-shot Prompt**: A prompt that allows an AI model to generate a response for a task it has not been explicitly trained on.

- **Few-shot Prompt**: A prompt that enables an AI model to generate a response for a task with limited training examples.

- **Interview Pattern**: A prompt engineering approach that involves simulating a conversation or interview-style interaction with the AI model. Useful for gathering specific information and personalizing responses where the AI acts as an expert asking relevant questions.

- **Chain-of-Thought**: A prompt engineering approach that builds on the previous response generated by the AI model to create a coherent chain of prompts and responses. Useful for complex problem-solving tasks where a step-by-step reasoning process is required.

- **Tree-of-Thought**: A prompt engineering approach that branches out the prompts and responses into a tree-like structure to explore different paths of conversation. Useful for complex and multi-faceted topics where multiple perspectives are required.

- **Task specification**: A technique where text prompts explicitly specify the objective to the LLM, increasing the accuracy of responses.

- **Domain expertise**: The use of domain-specific terminology in text prompts to improve the accuracy and precision of LLM-generated content in specialized fields.

- **Bias mitigation**: A technique where text prompts provide explicit instructions to LLMs to generate neutral responses, addressing potential biases in the model's output.

- **Framing**: A technique where text prompts guide LLMs to generate responses within required boundaries, ensuring the output aligns with specific requirements or constraints.

- **User feedback loop**: A technique where users provide feedback to text prompts, allowing for iterative refinement of the prompts based on the LLM's generated response.

## LESSON

### Part 1: Interview Pattern Approach

In this part, we'll explore how the Interview Pattern can significantly enhance the quality and specificity of AI-generated responses. We'll combine it with the Persona Pattern to get even richer, more detailed, and personalized results. We'll apply this to a practical project: creating a personalized travel itinerary. Follow the steps below to see the difference in outcomes using the Interview Pattern approach.

#### Step 1: Initial Naive Prompt

1. Log in to ChatGPT.
2. In the prompt input box, enter the following naive prompt:

   ```
   Suggest a travel itinerary for my next vacation.
   ```

3. Observe the response. Note how the suggestion is likely to be generic because the AI doesn't have specific information about your preferences or details about the vacation.

#### Step 2: Applying the Persona Pattern

1. Start a new chat to clear any previous instructions.
2. In the prompt input box, enter the following:

   ```
   Acting as a travel expert, suggest a travel itinerary for my next vacation.
   ```

3. Observe the response. The results should be more detailed and expert-driven but still somewhat generic because the AI lacks specific personal information.

#### Step 3: Introducing the Interview Pattern

1. Start a new chat to reset any previous settings.
2. In the Prompt Instructions field, enter:

   ```
   You will act as a travel expert who is current with the latest travel trends and provide very detailed step-by-step instructions in reply to my queries. You will interview me, asking me all the relevant questions necessary for you to generate the best possible answer to my queries.
   ```

3. In the prompt input box, enter:

   ```
   Suggest a travel itinerary for my next vacation.
   ```

4. Observe the response. The AI should ask a series of questions to gather specific information about your travel preferences, budget, interests, and other relevant details.

5. Answer the questions the AI asks. Provide detailed responses to help the AI generate a personalized travel itinerary.

#### Step 4: Analyzing the Results

1. Review the travel itinerary provided by the AI after it has gathered all necessary information.
2. Compare this itinerary with the one generated from the naive and persona approaches. Note the differences in specificity and personalization.

#### Step 5: Experimenting with Variations

1. To further refine the approach, start a new chat and adjust the Prompt Instructions slightly. For example:

   ```
   You will act as a travel expert and ask me a series of questions, one by one, to gather all the information you need to give a proper response.
   ```

2. Repeat the prompt:

   ```
   Suggest a travel itinerary for my next vacation.
   ```

3. Observe how slight variations in instructions might lead to different follow-up questions or improvements in the final itinerary.

#### Step 6: Expanding the Project

1. Apply the same process to a new goal. Start a new chat and enter the following Prompt Instructions:

   ```
   You will act as a culinary expert who is current with the latest cooking trends and provide very detailed step-by-step instructions in reply to my queries. You will interview me, asking me all the relevant questions necessary for you to generate the best possible answer to my queries.
   ```

2. In the prompt input box, enter:

   ```
   Give me a recipe for dinner tonight.
   ```

3. Answer the AI’s questions about your dietary preferences, ingredients you have on hand, cooking skills, etc.

4. Review the recipe provided and compare it to a naive approach where you simply asked for a dinner recipe without any interview.

### Part 2: Chain-of-Thought Approach

The Chain-of-Thought (CoT) methodology significantly enhances the cognitive performance of AI models by breaking down complex tasks into more manageable steps. By adopting this prompting strategy, AI models can demonstrate heightened cognitive abilities and offer a deeper understanding of their reasoning processes.

This approach involves teaching the model to reason about a problem through a series of related questions and solutions. We will walk through an example project to illustrate the CoT approach effectively.

#### Step 1: Understanding the Problem and Standard Approach

1. **Log into ChatGPT**: Begin by logging into ChatGPT and starting a new chat.

2. **Pose a Standard/Naive Prompt**:

   - Enter the following problem to see how the AI responds without additional guidance:

     ```
     An Italian menu has 5 items priced as follows:
     - Prosciutto $9.99
     - Pecorino $12.99
     - Calamari $13.99
     - Bruschetta $4.99
     - Carpaccio $14.99
     Assuming each food is equally filling, spend $30 for a group of people by maximizing satiety.
     ```

3. **Analyze the Response**:
   - Observe how the AI attempts to solve the problem. In most cases, the reasoning might be incorrect or overly complex, leading to an ineffective solution.

#### Step 2: Implementing the Chain-of-Thought Approach

1. **Start a New Chat**: Reset the chat to ensure a fresh start without previous context influencing the AI.

2. **Set Prompt Instructions**:

   - Enter the following prompt instructions to guide the AI’s reasoning process:

     ```
     You will be given a question and an answer that demonstrates the reasoning process. Use this as a guide to answer a related question.
     ```

3. **Provide the Chain-of-Thought Example**:

   - Enter the following question and its solution to illustrate the reasoning process:

     ```
     Q: An Italian menu has 5 items priced as follows:
     - Prosciutto $9.99
     - Pecorino $12.99
     - Calamari $13.99
     - Bruschetta $4.99
     - Carpaccio $14.99
     Assuming each food is equally filling, spend $30 for a group of people by maximizing satiety.
     A: Since each food is equally filling, maximizing our budget will require us to favor items that have a low cost-per-satiety ratio. The ratio of each food, sorted by lowest to highest, is as follows:
     - Bruschetta: $4.99
     - Prosciutto: $9.99
     - Pecorino: $12.99
     - Calamari: $13.99
     - Carpaccio: $14.99
     If we are allowed to have multiple orders of the same item, the simplest answer is doing an integer division of our $30 by the item with the lowest cost per satiety ratio, which is Bruschetta. So we get $30 div $4.99 (the cost of Bruschetta) which is 6. So the answer is an order of 6 Bruschette.
     ```

4. **Pose a Related Question**:

   - Now, ask a similar question to see if the AI can apply the same reasoning:

     ```
     Q: A store sells 4 types of aquarium fish at the following prices:
     - Guppies: $3.99
     - Goldfish: $1.99
     - Betta: $5.99
     - Angelfish: $8.99
     Spend $20 to maximize the total amount of fish.
     ```

5. **Evaluate the AI’s Response**:
   - Check if the AI applies the CoT reasoning correctly to solve the new problem.

#### Step 3: Enhancing Reasoning with Zero-Shot CoT

1. **Zero-Shot CoT Prompting**:

   - Introduce phrases to improve reasoning without prior examples:

     ```
     Let's think step by step.
     ```

2. **Pose a New Question**:

   - Ask the following question to test Zero-Shot CoT:

     ```
     A store sells three box types:
     - Small, 10L, $1.99
     - Medium, 22L, $4.99
     - Large, 38L, $5.99
     Spend $20 and maximize volume.
     ```

3. **Analyze the AI’s Response**:

   - Observe how the AI uses step-by-step reasoning to arrive at the solution.

4. **Provide Feedback and Iterate**:
   - If the AI’s response is incomplete or incorrect, give feedback such as “You have money left over. Spend it.” and “Give me the entire answer.”
   - Iterate until the AI provides a comprehensive and accurate response.

#### Step 4: Applying Chain-of-Thought to Broader Topics

1. **Set Prompt Instructions for a Broad Topic**:

   - Use the following instructions to guide the AI in exploring a complex topic:

     ```
     Consider and include the following elements in your answer:
     - Historical Space Missions
     - Moon landing and Human Achievement
     - Moon landing and impact on the Cold War
     - Satellite technology and its impact on humanity
     - Mars colonization possibilities
     - Search for extraterrestrial life
     - Space tourism prospects
     - Space debris and environmental impact
     - International Space Station collaboration
     - Advancements in rocket technology
     - Interstellar travel challenges
     - Private companies and Billionaires involvement controversy
     Let us think step by step.
     ```

2. **Pose the Broad Question**:

   - Ask the AI:

     ```
     What is space exploration?
     ```

3. **Evaluate the Comprehensive Response**:
   - Analyze how the AI integrates the various elements into a cohesive and thorough answer.

### Part 3: Tree-of-Thought Approach

The Tree-of-Thought (ToT) approach to prompt engineering enhances the reasoning capabilities of Language Learning Models (LLMs) by simulating a branching thought process. This approach mimics the way humans solve complex problems: by exploring different possibilities, evaluating intermediate steps, and backtracking when necessary. This method allows for more comprehensive and accurate problem-solving compared to traditional Chain-of-Thought (CoT) prompting.

#### Step 1: Understanding the Tree-of-Thought Approach

1. **Introduction to Tree-of-Thought (ToT) Prompting**:

   - Begin by explaining the concept of ToT prompting and how it builds on the CoT approach. Emphasize the limitations of CoT, such as its inability to try different clues, make changes to decisions, or backtrack.
   - Provide context from Yao et al.'s research (arXiv:2305.10601), highlighting the significant improvement in performance using ToT prompting. For instance, in the Game of 24, GPT-4 with CoT prompting solved only 4% of tasks, while the ToT approach achieved a success rate of 74%.

2. **Illustrative Example**:
   - Use a simple example to demonstrate the ToT approach. For instance, consider a problem where Bob moves a ball through various locations:
     - **Problem Statement**: Bob is in the living room. He walks to the kitchen, carrying a cup. He puts a ball in the cup and carries the cup to the bedroom. He turns the cup upside down, then walks to the garden. He puts the cup down in the garden, then walks to the garage. Where is the ball?
   - Compare the response of a naive model with that of a ToT-prompted model. Highlight how ToT prompting encourages the model to evaluate intermediate steps and backtrack if necessary to find the correct answer.

#### Step 2: Implementing Tree-of-Thought Prompting

1. **Prompt Design**:

   - Explain how to design prompts for ToT prompting. Start with a clear problem statement and add instructions for simulating multiple experts or thought processes.
   - Example Prompt Instructions: "Imagine three different experts are answering this question. All experts will write down 1 step of their thinking, then share it with the group. Then all experts will go on to the next step, etc. If any expert realizes they're wrong at any point, then they leave. The question is..."

2. **Applying ToT to Practical Scenarios**:
   - Demonstrate the application of ToT prompting to a practical scenario, such as creating a marketing plan for an online shoe store.
   - **Initial Prompt**: Define a marketing plan for my online store, which sells shoes.
   - **ToT Prompt Instructions**: "Imagine three different experts are answering this question. All experts will write down 1 step of their thinking, then share it with the group. Then all experts will go on to the next step, etc. If any expert realizes they're wrong at any point then they leave."
   - **Expert Responses**:
     - **Expert 1**: Step 1 - Market Research and Target Audience Identification.
     - **Expert 2**: Step 2 - Unique Selling Proposition (USP) and Product Selection.
     - **Expert 3**: Step 3 - Website Development and User Experience.
     - Continue this process until a comprehensive marketing plan is developed.

#### Step 3: Analyzing and Refining the Approach

1. **Evaluating Responses**:

   - Discuss how to evaluate the responses generated by the ToT prompting approach. Emphasize the importance of scrutinizing the reasoning behind each step and how it contributes to the final solution.
   - Provide examples of how intermediate thoughts and backtracking improve the accuracy and quality of responses.

2. **Enhancing the Prompts**:
   - Encourage experimentation with different variations of ToT prompts. Suggest trying prompts that incorporate additional roles or experts, or those that require more detailed step-by-step reasoning.
   - Example Variation: "Simulate three brilliant, logical experts collaboratively answering a question. Each one verbosely explains their thought process in real-time, considering the prior explanations of others and openly acknowledging mistakes. At each step, whenever possible, each expert refines and builds upon the thoughts of others, acknowledging their contributions. They continue until there is a definitive answer to the question. The question is..."

#### Step 4: Applying ToT to Broader Contexts

1. **Exploring Different Domains**:

   - Demonstrate the versatility of the ToT approach by applying it to various domains such as problem-solving, decision-making, and creative brainstorming.
   - Example Scenario: Developing a comprehensive strategy for a new product launch, addressing different aspects like market research, product development, marketing, and sales.

2. **Iterative Learning and Improvement**:
   - Highlight the importance of continuous learning and refinement of the ToT approach. Encourage the use of feedback and performance analysis to improve the prompting strategy.
   - Discuss how integrating real data and specific business context can enhance the effectiveness of the ToT prompting approach.

### Part 4: Prompt Engineering Techniques & Approaches Quiz

#### Question 1

**Which of the following techniques helps text prompts guide LLMs to generate responses within specific boundaries, ensuring that the output aligns with the desired requirements?**

1. Framing
2. Bias mitigation
3. Domain expertise
4. Task specification

#### Question 2

**Which of the following prompt engineering approaches involves breaking down complex tasks into easier ones through a sequence of simpler prompts to guide the model toward the intended outcome?**

1. Chain-of-Thought
2. Cognitive building
3. Tree-of-Thoughts
4. Interview pattern

#### Question 3

**How does the interview pattern approach enhance the interaction with generative AI models?**

1. By focusing on a conventional prompting approach
2. By providing a single static prompt to the model
3. By hierarchically structuring a prompt or query
4. By promoting a back-and-forth exchange of information with the model

#### Question 4

**Imagine you are planning a business trip, and you want to use the interview pattern approach to prompt an AI model to assist you in planning your itinerary. What would be the benefit of this approach in comparison to a traditional static prompt?**

1. The model will provide a single predetermined itinerary
2. The model will ask for your preferences and adjust the itinerary accordingly
3. The model will generate a random travel plan.
4. The model will minimize the need for any user interaction

#### Question 5

**Jennifer wants to request some useful information about a complex medical condition using a large language model. Which among the following techniques should she employ on the text prompt to ensure that the generated content is relevant, accurate, and precise for this specialized field?**

1. Task specification
2. Framing
3. Domain expertise
4. Bias mitigation

#### Question 6

**Imagine you are a content developer working with LLMs, and you must ensure that the responses generated are indiscriminatory and neutral. Which among the following techniques would you employ with your text prompts to instruct the model appropriately?**

1. Few-shot prompting
2. Bias mitigation
3. Zero-shot prompting
4. Contextual guidance

#### Question 7

**Imagine you are using the Chain-of-Thought approach to teach a generative AI model how to solve a mathematical problem. What is the key component of a prompt in this approach?**

1. A prompt consists of a question and a correct answer for context.
2. A prompt includes only a question without an answer.
3. A prompt includes a list of formulae to solve the question.
4. A prompt includes a series of related questions without the correct answer.

## REVIEW

### Summary

- **Interview Pattern**: The Interview Pattern approach involves simulating a conversation or interview-style interaction with the AI model. It is useful for gathering specific information and personalizing responses, where the AI acts as an expert asking relevant questions.
- **Chain-of-Thought**: The Chain-of-Thought approach breaks down complex tasks into more manageable steps, guiding the model through a sequence of related questions and solutions. It is beneficial for problem-solving tasks requiring a step-by-step reasoning process.
- **Tree-of-Thought**: The Tree-of-Thought approach branches out prompts and responses into a tree-like structure, exploring different paths of conversation. It is useful for complex and multi-faceted topics where multiple perspectives are required.
- **Prompt Engineering Techniques**: Techniques like task specification, domain expertise, bias mitigation, and framing help guide LLMs to generate precise and relevant responses. These techniques enhance the accuracy and quality of AI-generated content in specialized fields and mitigate potential biases in the model's output.
- **User Feedback Loop**: The User Feedback Loop technique allows users to provide feedback on text prompts, enabling iterative refinement of the prompts based on the LLM's generated response.

### Homework

1. **Interview Pattern Approach**: Apply the Interview Pattern approach to a new project. Create a prompt that simulates an interview with an AI model to generate personalized recommendations or solutions. Share your experience and the outcomes of using this approach.
2. **Chain-of-Thought Approach**: Implement the Chain-of-Thought approach in a practical scenario. Design a series of related questions and solutions to guide the AI model through a complex problem-solving task. Evaluate the effectiveness of this approach in enhancing the model's cognitive performance.
3. **Tree-of-Thought Approach**: Explore the Tree-of-Thought approach in a broader context. Design a ToT prompt for a complex topic or problem, simulating a branching thought process to guide the AI model through different possibilities and reasoning paths. Analyze the results and discuss the advantages of using the ToT approach.
